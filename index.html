<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Sense Challenge</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0c0c1e;
    --surface: #141430;
    --surface2: #1c1c40;
    --surface3: #22224a;
    --accent: #f0c060;
    --accent2: #e06090;
    --cyan: #40d0c0;
    --purple: #9070f0;
    --green: #40d080;
    --red: #f05060;
    --text: #ede8ff;
    --muted: #7878a8;
    --border: rgba(255,255,255,0.07);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  h1, h2, h3 { font-family: 'Playfair Display', serif; }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 60% 50% at 15% 15%, rgba(144,112,240,0.13) 0%, transparent 60%),
      radial-gradient(ellipse 50% 40% at 85% 80%, rgba(224,96,144,0.10) 0%, transparent 55%),
      radial-gradient(ellipse 40% 40% at 50% 50%, rgba(64,208,192,0.06) 0%, transparent 60%);
    pointer-events: none;
    z-index: 0;
  }

  .screen { display: none; min-height: 100vh; position: relative; z-index: 1; }
  .screen.active { display: flex; }

  /* ‚îÄ‚îÄ‚îÄ SHARED ‚îÄ‚îÄ‚îÄ */
  .btn-primary {
    background: linear-gradient(135deg, var(--accent), #d08020);
    color: #1a0a00;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 1rem;
    border: none;
    border-radius: 12px;
    padding: 0.9rem 1.5rem;
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.2s;
    width: 100%;
  }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(240,192,96,0.35); }

  .btn-ghost {
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    color: var(--muted);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem;
    border-radius: 10px;
    padding: 0.55rem 1.1rem;
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
  }
  .btn-ghost:hover { background: rgba(255,255,255,0.09); color: var(--text); }

  .btn-link {
    background: none; border: none;
    color: var(--muted); font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem; cursor: pointer;
    text-decoration: underline; transition: color 0.2s;
  }
  .btn-link:hover { color: var(--text); }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(18px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes popIn {
    0% { opacity: 0; transform: scale(0.92); }
    100% { opacity: 1; transform: scale(1); }
  }

  /* ‚îÄ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ‚îÄ */
  #login-screen {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }
  .login-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 2.8rem 2.4rem;
    width: 100%;
    max-width: 440px;
    animation: fadeUp 0.5s ease both;
  }
  .logo-mark {
    width: 64px; height: 64px;
    background: linear-gradient(135deg, var(--purple), var(--accent2));
    border-radius: 18px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.8rem;
    margin: 0 auto 1.4rem;
    box-shadow: 0 8px 24px rgba(144,112,240,0.35);
  }
  .login-card h1 { font-size: 1.9rem; text-align: center; margin-bottom: 0.3rem; line-height: 1.2; }
  .login-sub { color: var(--muted); font-size: 0.88rem; text-align: center; margin-bottom: 2rem; }
  .field { margin-bottom: 1.1rem; }
  .field label { display: block; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.09em; color: var(--muted); margin-bottom: 0.45rem; }
  .field input {
    width: 100%; background: var(--bg);
    border: 1.5px solid rgba(255,255,255,0.09);
    border-radius: 10px; padding: 0.8rem 1rem;
    font-family: 'DM Sans', sans-serif; font-size: 0.97rem;
    color: var(--text); outline: none; transition: border-color 0.2s;
  }
  .field input:focus { border-color: var(--accent); }
  .field input::placeholder { color: rgba(255,255,255,0.2); }
  .error-msg { color: var(--red); font-size: 0.82rem; text-align: center; margin-bottom: 0.9rem; display: none; }
  .error-msg.show { display: block; }
  .login-footer { display: flex; justify-content: center; margin-top: 1rem; }

  /* ‚îÄ‚îÄ‚îÄ LEVEL ‚îÄ‚îÄ‚îÄ */
  #level-screen {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    gap: 1.5rem;
  }
  .level-header { text-align: center; animation: fadeUp 0.4s ease both; }
  .level-header h2 { font-size: 2rem; margin-bottom: 0.3rem; }
  .welcome-name { color: var(--accent); }
  .level-header p { color: var(--muted); font-size: 0.9rem; }

  .levels-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    max-width: 680px;
    width: 100%;
    animation: fadeUp 0.5s 0.08s ease both;
    opacity: 0; animation-fill-mode: forwards;
  }
  @media (max-width: 580px) { .levels-grid { grid-template-columns: 1fr; max-width: 340px; } }

  .level-card {
    background: var(--surface);
    border: 2px solid rgba(255,255,255,0.06);
    border-radius: 20px;
    padding: 1.8rem 1.2rem;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
    position: relative; overflow: hidden;
  }
  .level-card::after { content: ''; position: absolute; inset: 0; opacity: 0; transition: opacity 0.3s; }
  .level-card[data-level="1"]::after { background: linear-gradient(135deg, rgba(64,208,192,0.08), transparent); }
  .level-card[data-level="2"]::after { background: linear-gradient(135deg, rgba(240,192,96,0.08), transparent); }
  .level-card[data-level="3"]::after { background: linear-gradient(135deg, rgba(144,112,240,0.08), transparent); }
  .level-card:hover { transform: translateY(-4px); }
  .level-card:hover::after { opacity: 1; }
  .level-card[data-level="1"] { border-color: rgba(64,208,192,0.2); }
  .level-card[data-level="1"]:hover { border-color: var(--cyan); box-shadow: 0 8px 28px rgba(64,208,192,0.18); }
  .level-card[data-level="2"] { border-color: rgba(240,192,96,0.2); }
  .level-card[data-level="2"]:hover { border-color: var(--accent); box-shadow: 0 8px 28px rgba(240,192,96,0.18); }
  .level-card[data-level="3"] { border-color: rgba(144,112,240,0.2); }
  .level-card[data-level="3"]:hover { border-color: var(--purple); box-shadow: 0 8px 28px rgba(144,112,240,0.18); }
  .level-icon { font-size: 2.4rem; margin-bottom: 0.7rem; display: block; }
  .level-card h3 { font-size: 1.2rem; margin-bottom: 0.2rem; }
  .level-tag { font-size: 0.72rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.6rem; }
  .level-card[data-level="1"] .level-tag { color: var(--cyan); }
  .level-card[data-level="2"] .level-tag { color: var(--accent); }
  .level-card[data-level="3"] .level-tag { color: var(--purple); }
  .level-words { font-size: 0.78rem; color: var(--muted); }

  .guide-strip {
    background: rgba(240,192,96,0.06);
    border: 1px solid rgba(240,192,96,0.18);
    border-radius: 14px;
    padding: 1rem 1.5rem;
    max-width: 680px; width: 100%;
    display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem;
    animation: fadeUp 0.5s 0.16s ease both; opacity: 0; animation-fill-mode: forwards;
  }
  @media (max-width: 480px) { .guide-strip { grid-template-columns: 1fr; } }
  .guide-item { display: flex; gap: 0.6rem; align-items: flex-start; }
  .gdot { width: 8px; height: 8px; border-radius: 50%; margin-top: 0.35rem; flex-shrink: 0; }
  .gdot-d { background: var(--cyan); }
  .gdot-c { background: var(--accent2); }
  .guide-item strong { font-size: 0.86rem; color: var(--text); display: block; }
  .guide-item span { font-size: 0.8rem; color: var(--muted); }

  .level-actions {
    display: flex; gap: 0.8rem;
    animation: fadeUp 0.5s 0.22s ease both; opacity: 0; animation-fill-mode: forwards;
  }

  /* ‚îÄ‚îÄ‚îÄ GAME ‚îÄ‚îÄ‚îÄ */
  #game-screen {
    flex-direction: column;
    align-items: center;
    padding: 1.5rem 1.2rem 2rem;
  }

  .game-wrap { width: 100%; max-width: 720px; }

  .game-topbar {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 1rem;
  }
  .q-label { font-size: 0.82rem; color: var(--muted); }
  .q-label span { color: var(--text); font-weight: 600; }
  .score-chip {
    background: rgba(240,192,96,0.1);
    border: 1px solid rgba(240,192,96,0.22);
    border-radius: 100px;
    padding: 0.3rem 0.9rem;
    font-size: 0.85rem; font-weight: 700; color: var(--accent);
  }

  .progress-bar {
    height: 3px;
    background: rgba(255,255,255,0.07);
    border-radius: 100px;
    overflow: hidden;
    margin-bottom: 1.5rem;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--cyan), var(--purple));
    border-radius: 100px;
    transition: width 0.5s ease;
  }

  /* Word header badge */
  .word-header {
    display: flex; align-items: center; gap: 0.8rem;
    margin-bottom: 1.1rem;
  }
  .word-emoji-badge {
    width: 48px; height: 48px;
    background: var(--surface2);
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.6rem;
    flex-shrink: 0;
  }
  .word-title-block h2 { font-size: 1.6rem; line-height: 1.1; }
  .word-pos { font-size: 0.8rem; color: var(--muted); font-style: italic; margin-top: 0.15rem; }

  /* Task label */
  .task-label {
    font-size: 0.72rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.1em;
    color: var(--accent);
    margin-bottom: 0.7rem;
  }

  /* Passage card */
  .passage-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 1.6rem 1.8rem;
    margin-bottom: 1.2rem;
    transition: border-color 0.35s, background 0.35s;
    animation: popIn 0.35s ease both;
  }
  .passage-card.correct { border-color: rgba(64,208,128,0.45); background: rgba(64,208,128,0.06); }
  .passage-card.wrong { border-color: rgba(240,80,96,0.45); background: rgba(240,80,96,0.06); }

  .passage-label {
    font-size: 0.7rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.1em;
    color: var(--muted); margin-bottom: 0.9rem;
    display: flex; align-items: center; gap: 0.5rem;
  }
  .passage-label::before { content: ''; display: block; width: 20px; height: 1px; background: var(--muted); }

  .passage-text {
    font-size: 1.06rem;
    line-height: 1.75;
    color: rgba(237,232,255,0.88);
  }
  .passage-text strong {
    color: var(--accent);
    font-weight: 700;
    background: rgba(240,192,96,0.12);
    border-radius: 4px;
    padding: 0 3px;
  }

  /* Answer buttons */
  .answer-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.9rem;
    margin-bottom: 1rem;
  }
  .ans-btn {
    border-radius: 14px;
    border: 2px solid;
    padding: 1.1rem 1rem;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 0.93rem;
    cursor: pointer;
    display: flex; flex-direction: column; align-items: center; gap: 0.35rem;
    transition: transform 0.15s, box-shadow 0.15s, background 0.15s;
  }
  .ans-btn .ai { font-size: 1.4rem; }
  .ans-btn:disabled { opacity: 0.45; cursor: default; transform: none !important; }

  #btn-deno {
    background: rgba(64,208,192,0.07);
    border-color: rgba(64,208,192,0.3);
    color: var(--cyan);
  }
  #btn-deno:hover:not(:disabled) {
    background: rgba(64,208,192,0.15);
    border-color: var(--cyan);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(64,208,192,0.22);
  }
  #btn-conn {
    background: rgba(224,96,144,0.07);
    border-color: rgba(224,96,144,0.3);
    color: var(--accent2);
  }
  #btn-conn:hover:not(:disabled) {
    background: rgba(224,96,144,0.15);
    border-color: var(--accent2);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(224,96,144,0.22);
  }

  /* Feedback */
  .feedback-panel {
    background: var(--surface2);
    border-radius: 14px;
    padding: 1.3rem 1.5rem;
    display: none;
    animation: fadeUp 0.3s ease;
    margin-bottom: 0.9rem;
  }
  .feedback-panel.show { display: block; }
  .fb-result { font-size: 1.1rem; font-weight: 700; margin-bottom: 0.45rem; }
  .fb-result.ok { color: var(--green); }
  .fb-result.no { color: var(--red); }
  .fb-answer-reveal {
    font-size: 0.82rem; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.07em; color: var(--muted);
    margin-bottom: 0.5rem;
  }
  .fb-exp { font-size: 0.9rem; color: rgba(237,232,255,0.7); line-height: 1.55; margin-bottom: 1rem; }
  .btn-next {
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.12);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-weight: 600; font-size: 0.92rem;
    border-radius: 10px; padding: 0.65rem 1.6rem;
    cursor: pointer; transition: background 0.2s;
  }
  .btn-next:hover { background: rgba(255,255,255,0.12); }

  /* ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ */
  #results-screen {
    flex-direction: column;
    align-items: center; justify-content: center;
    padding: 2rem;
  }
  .results-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 2.8rem 2.4rem;
    max-width: 440px; width: 100%;
    text-align: center;
    animation: popIn 0.4s ease;
  }
  .r-emoji { font-size: 3.5rem; display: block; margin-bottom: 0.8rem; }
  .results-card h2 { font-size: 1.9rem; margin-bottom: 0.3rem; }
  .r-sub { color: var(--muted); font-size: 0.88rem; margin-bottom: 1.8rem; }
  .score-block {
    background: var(--bg);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }
  .r-lvl-badge {
    display: inline-block;
    font-size: 0.7rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.08em;
    padding: 0.2rem 0.7rem;
    border-radius: 100px;
    margin-bottom: 1rem;
  }
  .rlb-1 { background: rgba(64,208,192,0.12); color: var(--cyan); }
  .rlb-2 { background: rgba(240,192,96,0.12); color: var(--accent); }
  .rlb-3 { background: rgba(144,112,240,0.12); color: var(--purple); }
  .r-fraction {
    font-family: 'Playfair Display', serif;
    font-size: 3.5rem; font-weight: 900;
    color: var(--accent); line-height: 1;
    margin-bottom: 0.3rem;
  }
  .r-pct { color: var(--accent); font-weight: 700; font-size: 1rem; margin-bottom: 0.3rem; }
  .r-msg { color: var(--muted); font-size: 0.9rem; }
  .result-btns { display: flex; flex-direction: column; gap: 0.7rem; }
  .btn-secondary {
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    color: var(--text); font-family: 'DM Sans', sans-serif;
    font-weight: 600; font-size: 0.95rem;
    border-radius: 12px; padding: 0.85rem;
    cursor: pointer; transition: background 0.2s; width: 100%;
  }
  .btn-secondary:hover { background: rgba(255,255,255,0.09); }

  /* ‚îÄ‚îÄ‚îÄ SCORES ‚îÄ‚îÄ‚îÄ */
  #scores-screen {
    flex-direction: column;
    padding: 2rem;
    max-width: 700px;
    margin: 0 auto;
    width: 100%;
  }
  .scores-top {
    display: flex; align-items: center; gap: 1rem;
    margin-bottom: 1.8rem;
  }
  .scores-top h2 { font-size: 1.7rem; }
  .score-row {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 1rem 1.3rem;
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 0.7rem;
    animation: fadeUp 0.3s ease;
  }
  .sr-left { display: flex; align-items: center; gap: 0.8rem; }
  .sr-emoji { font-size: 1.5rem; }
  .sr-name { font-weight: 600; font-size: 0.93rem; }
  .sr-meta { color: var(--muted); font-size: 0.78rem; margin-top: 0.1rem; }
  .sr-pct {
    font-family: 'Playfair Display', serif;
    font-size: 1.7rem; font-weight: 700; color: var(--accent);
  }

  /* confetti */
  .conf-wrap { position: fixed; inset: 0; pointer-events: none; z-index: 200; overflow: hidden; }
  .conf { position: absolute; width: 10px; height: 10px; animation: fall 1.6s ease-in forwards; }
  @keyframes fall {
    0% { opacity: 1; transform: translateY(0) rotate(0deg); }
    100% { opacity: 0; transform: translateY(220px) rotate(720deg); }
  }

  /* mobile tweaks */
  @media (max-width: 480px) {
    .answer-row { grid-template-columns: 1fr; }
    .passage-text { font-size: 0.97rem; }
    .word-title-block h2 { font-size: 1.3rem; }
  }
</style>
</head>
<body>

<!-- ‚îÄ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ‚îÄ -->
<div id="login-screen" class="screen active">
  <div class="login-card">
    <div class="logo-mark">üìö</div>
    <h1>Word Sense Challenge</h1>
    <p class="login-sub">Read passages. Identify meaning types. Master vocabulary.</p>
    <div class="field">
      <label for="inp-name">Your Name</label>
      <input id="inp-name" type="text" placeholder="Enter your name" autocomplete="off">
    </div>
    <div class="field">
      <label for="inp-class">Class / Period</label>
      <input id="inp-class" type="text" placeholder="e.g., Period 3, Block A" autocomplete="off">
    </div>
    <div class="error-msg" id="login-error">Please enter both your name and class period.</div>
    <button class="btn-primary" id="login-btn">Let's Play ‚Üí</button>
    <div class="login-footer">
      <button class="btn-link" id="scores-from-login">View Score History</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ LEVEL ‚îÄ‚îÄ‚îÄ -->
<div id="level-screen" class="screen">
  <div class="level-header">
    <h2>Welcome, <span class="welcome-name" id="welcome-name">Student</span>!</h2>
    <p>Choose a difficulty level to begin reading</p>
  </div>

  <div class="levels-grid">
    <div class="level-card" data-level="1">
      <span class="level-icon">üå±</span>
      <h3>Level 1</h3>
      <div class="level-tag">Foundations</div>
      <div class="level-words">10 passages</div>
    </div>
    <div class="level-card" data-level="2">
      <span class="level-icon">üî•</span>
      <h3>Level 2</h3>
      <div class="level-tag">Challenge</div>
      <div class="level-words">10 passages</div>
    </div>
    <div class="level-card" data-level="3">
      <span class="level-icon">‚≠ê</span>
      <h3>Level 3</h3>
      <div class="level-tag">Mastery</div>
      <div class="level-words">10 passages</div>
    </div>
  </div>

  <div class="guide-strip">
    <div class="guide-item">
      <div class="gdot gdot-d"></div>
      <div>
        <strong>Denotative</strong>
        <span>The word is used in its literal dictionary meaning</span>
      </div>
    </div>
    <div class="guide-item">
      <div class="gdot gdot-c"></div>
      <div>
        <strong>Connotative</strong>
        <span>The word carries emotional or cultural associations</span>
      </div>
    </div>
  </div>

  <div class="level-actions">
    <button class="btn-ghost" id="change-student">‚Üê Change Student</button>
    <button class="btn-ghost" id="scores-from-level">üìä Score History</button>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ GAME ‚îÄ‚îÄ‚îÄ -->
<div id="game-screen" class="screen">
  <div class="game-wrap">
    <div class="game-topbar">
      <div class="q-label">Passage <span id="q-num">1</span> of <span id="q-total">10</span></div>
      <div class="score-chip">Score: <span id="score-val">0</span></div>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="progress-fill" style="width:10%"></div>
    </div>

    <div class="word-header">
      <div class="word-emoji-badge" id="q-emoji">üí≠</div>
      <div class="word-title-block">
        <h2 id="q-word">Eloquent</h2>
        <div class="word-pos" id="q-pos">(adjective)</div>
      </div>
    </div>

    <div class="task-label">üìñ Read the passage ‚Äî how is the bold word being used?</div>

    <div class="passage-card" id="passage-card">
      <div class="passage-label">Passage</div>
      <div class="passage-text" id="q-passage">Loading...</div>
    </div>

    <div class="answer-row" id="answer-row">
      <button class="ans-btn" id="btn-deno">
        <span class="ai">üìñ</span>
        Denotative
      </button>
      <button class="ans-btn" id="btn-conn">
        <span class="ai">üí´</span>
        Connotative
      </button>
    </div>

    <div class="feedback-panel" id="feedback-panel">
      <div class="fb-result" id="fb-result"></div>
      <div class="fb-answer-reveal" id="fb-reveal"></div>
      <div class="fb-exp" id="fb-exp"></div>
      <button class="btn-next" id="next-btn">Next Passage ‚Üí</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ -->
<div id="results-screen" class="screen">
  <div class="results-card">
    <span class="r-emoji" id="r-emoji">üéâ</span>
    <h2>Challenge Complete!</h2>
    <p class="r-sub" id="r-sub">Here's how you did</p>
    <div class="score-block">
      <div class="r-lvl-badge" id="r-badge">Level 1 ¬∑ Foundations</div>
      <div class="r-fraction"><span id="r-score">8</span>/<span id="r-total">10</span></div>
      <div class="r-pct"><span id="r-pct">80</span>% Accuracy</div>
      <div class="r-msg" id="r-msg">Great work!</div>
    </div>
    <div class="result-btns">
      <button class="btn-primary" id="play-again-btn">Play Again üîÑ</button>
      <button class="btn-secondary" id="level-from-results">‚Üê Choose Different Level</button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ SCORES ‚îÄ‚îÄ‚îÄ -->
<div id="scores-screen" class="screen">
  <div class="scores-top">
    <button class="btn-ghost" id="back-from-scores">‚Üê Back</button>
    <h2>üìä Score History</h2>
  </div>
  <div id="scores-list"></div>
</div>

<div class="conf-wrap" id="conf-wrap"></div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PASSAGE-BASED VOCABULARY DATA
// Each word has TWO passages ‚Äî one using the word denotatively, one connotatively.
// The game randomly picks one passage per question.
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const LEVELS = {
  1: [
    {
      word: "Eloquent", pos: "adjective", emoji: "üé§",
      passages: [
        {
          text: `The debate coach explained that an <strong>eloquent</strong> speaker is someone who expresses ideas clearly, fluently, and with well-chosen words ‚Äî a skill that can be learned through practice and preparation.`,
          type: "denotative",
          exp: `The passage uses "eloquent" according to its dictionary definition ‚Äî clearly and effectively expressing ideas in speech or writing. No emotional weight is added; it's treated as a neutral skill.`
        },
        {
          text: `When Maya stepped to the podium and began to speak, the room fell silent. Her words weren't just correct ‚Äî they were <strong>eloquent</strong>, carrying a warmth and power that moved people to tears and left them feeling seen for the first time in years.`,
          type: "connotative",
          exp: `Here "eloquent" goes beyond its literal definition. It implies emotional depth, beauty, and the almost magical ability to move an audience ‚Äî feelings and associations the word carries beyond its dictionary meaning.`
        }
      ]
    },
    {
      word: "Ambitious", pos: "adjective", emoji: "üöÄ",
      passages: [
        {
          text: `The dictionary defines an <strong>ambitious</strong> person as one who has a strong desire to achieve success or a specific goal, whether that goal is academic, professional, or personal.`,
          type: "denotative",
          exp: `This passage uses "ambitious" strictly to match its dictionary definition ‚Äî having a strong desire for success or achievement ‚Äî without suggesting whether that desire is good or bad.`
        },
        {
          text: `Nobody trusted Jordan anymore. Every smile, every compliment, every favor had a price tag. The team whispered that Jordan was too <strong>ambitious</strong> ‚Äî the kind of person who would step on anyone to get to the top.`,
          type: "connotative",
          exp: `In this context, "ambitious" carries a negative connotation ‚Äî it implies ruthlessness, manipulation, and self-serving behavior. The same word that can sound like praise here feels like a warning.`
        }
      ]
    },
    {
      word: "Frugal", pos: "adjective", emoji: "üí∞",
      passages: [
        {
          text: `A <strong>frugal</strong> lifestyle simply means being economical with money ‚Äî avoiding unnecessary spending and making careful, thoughtful choices about how resources are used.`,
          type: "denotative",
          exp: `This is the word's literal definition: economical and careful with money. The passage is neutral ‚Äî no judgment is made about whether being frugal is admirable or limiting.`
        },
        {
          text: `Grandma never wasted a dime, but no one called her cheap. She was <strong>frugal</strong> ‚Äî wise and self-disciplined in a way that let her send three grandchildren to college debt-free. Her restraint was a kind of love.`,
          type: "connotative",
          exp: `"Frugal" here carries deeply positive connotations: wisdom, love, discipline, and generosity. The passage uses the word to suggest admirable character, not just spending habits.`
        }
      ]
    },
    {
      word: "Notorious", pos: "adjective", emoji: "üòà",
      passages: [
        {
          text: `The textbook described Al Capone as a <strong>notorious</strong> gangster ‚Äî meaning he was widely known, particularly for his criminal activities during the Prohibition era.`,
          type: "denotative",
          exp: `Here "notorious" is used in its literal sense: famous or widely known, typically for bad deeds. The tone is informational, not sensational.`
        },
        {
          text: `Everyone had heard about the teacher's <strong>notorious</strong> final exam ‚Äî the one that had made grown students weep, that professors told horror stories about, that floated through the halls of the school like a dark legend no one dared to laugh at.`,
          type: "connotative",
          exp: `"Notorious" here conjures feelings of dread, dark fascination, and almost mythical infamy. It does more than name a fact ‚Äî it creates an atmosphere of fear and dramatic reputation.`
        }
      ]
    },
    {
      word: "Meticulous", pos: "adjective", emoji: "üîç",
      passages: [
        {
          text: `The report described the surgeon as <strong>meticulous</strong> ‚Äî meaning she showed extreme care and attention to detail in every step of the procedure, following protocol precisely.`,
          type: "denotative",
          exp: `"Meticulous" is used here in its straightforward dictionary sense: showing great attention to detail. The focus is on the behavior itself, described objectively.`
        },
        {
          text: `You could trust Darius with anything. His notes were <strong>meticulous</strong> ‚Äî every heading color-coded, every margin annotation cross-referenced. Being his study partner didn't just feel helpful; it felt safe.`,
          type: "connotative",
          exp: `Here "meticulous" implies far more than careful behavior. It suggests trustworthiness, reliability, and even emotional security. The word carries the connotation of someone you can count on.`
        }
      ]
    },
    {
      word: "Cunning", pos: "adjective", emoji: "ü¶ä",
      passages: [
        {
          text: `The fox's <strong>cunning</strong> ‚Äî its ability to use clever strategies and deception to outmaneuver predators ‚Äî is well documented in animal behavior research and has been observed across multiple species.`,
          type: "denotative",
          exp: `"Cunning" is used here in its literal sense: skill in achieving ends through deception or cleverness. The tone is scientific and neutral ‚Äî it describes behavior without moral judgment.`
        },
        {
          text: `Nobody could catch her in a lie, and that made people uneasy. She was <strong>cunning</strong> in a way that made her dangerous ‚Äî always three moves ahead, always smiling at exactly the right moment, always innocent by the time anyone figured out what had happened.`,
          type: "connotative",
          exp: `"Cunning" carries strong connotations of manipulation, distrust, and menace. The passage uses the word to evoke emotional discomfort and a sense that the person is not to be trusted.`
        }
      ]
    },
    {
      word: "Vintage", pos: "adjective", emoji: "üç∑",
      passages: [
        {
          text: `In the wine industry, <strong>vintage</strong> refers specifically to the year in which the grapes were harvested and the wine was produced ‚Äî it's a technical term used on labels worldwide.`,
          type: "denotative",
          exp: `This is the word's original, technical meaning ‚Äî relating to the year of wine production. It's used factually and without additional emotional weight.`
        },
        {
          text: `She had a <strong>vintage</strong> soul ‚Äî the kind that appreciated hand-written letters, old record players, and the way light fell through dusty bookshop windows. Everything about her felt like it had been carefully preserved from a more beautiful time.`,
          type: "connotative",
          exp: `"Vintage" here evokes nostalgia, elegance, timelessness, and a kind of refined romance with the past. It's not about wine at all ‚Äî it's about emotional associations with what is old and cherished.`
        }
      ]
    },
    {
      word: "Assertive", pos: "adjective", emoji: "üí™",
      passages: [
        {
          text: `Psychologists define <strong>assertive</strong> communication as directly expressing one's thoughts, needs, and feelings in a confident way, while still respecting the rights of others.`,
          type: "denotative",
          exp: `The passage uses "assertive" according to its clinical, dictionary definition ‚Äî confident, direct communication. It's presented as a neutral psychological term.`
        },
        {
          text: `The new manager was <strong>assertive</strong> in a way that made the room tighten. She didn't raise her voice or make threats ‚Äî she simply stated what she expected, and somehow that was more unnerving than any shouting could have been.`,
          type: "connotative",
          exp: `In this context, "assertive" carries an unsettling edge ‚Äî suggesting power, control, and intimidation. The same word can feel like leadership in one context and a threat in another.`
        }
      ]
    },
    {
      word: "Propaganda", pos: "noun", emoji: "üì¢",
      passages: [
        {
          text: `In political science, <strong>propaganda</strong> is defined as information spread by an organization or government to promote a particular political cause, doctrine, or point of view.`,
          type: "denotative",
          exp: `This is the neutral, textbook definition of propaganda. It simply means organized information aimed at promoting a viewpoint ‚Äî without yet implying dishonesty or manipulation.`
        },
        {
          text: `The posters were everywhere ‚Äî smiling faces, bold colors, promises that felt too clean to be real. Students in the media literacy class immediately recognized it as <strong>propaganda</strong>: the kind of messaging designed not to inform but to control.`,
          type: "connotative",
          exp: `"Propaganda" here carries its heavy modern connotations: manipulation, deception, and the disturbing power of deliberate misinformation. The word signals mistrust and alarm.`
        }
      ]
    },
    {
      word: "Eccentric", pos: "adjective", emoji: "üé≠",
      passages: [
        {
          text: `The psychology textbook defined <strong>eccentric</strong> behavior as conduct that is unconventional, differs from what is socially typical, and is not explained by a clinical condition.`,
          type: "denotative",
          exp: `"Eccentric" is used here in its neutral dictionary meaning ‚Äî unconventional or unusual behavior. The clinical framing strips away any emotional reaction.`
        },
        {
          text: `Mr. Okafor taught calculus in a wizard hat and graded papers in a treehouse. Students loved him for it. His <strong>eccentric</strong> ways weren't a distraction ‚Äî they were the reason everyone remembered the quadratic formula.`,
          type: "connotative",
          exp: `"Eccentric" here is warm and affectionate ‚Äî it suggests charming individuality, delightful originality, and a creativity that makes someone unforgettable. The connotation is joyful rather than critical.`
        }
      ]
    }
  ],

  2: [
    {
      word: "Rhetoric", pos: "noun", emoji: "üìú",
      passages: [
        {
          text: `In classical education, <strong>rhetoric</strong> referred to the formal art of effective speaking and writing ‚Äî a respected discipline taught alongside logic and grammar in ancient Greek academies.`,
          type: "denotative",
          exp: `"Rhetoric" is used here in its original, neutral dictionary sense: the art of persuasive communication. It's presented as a respectable skill, not a suspicious one.`
        },
        {
          text: `The senator spoke for forty-five minutes, and by the end, the audience could not name a single concrete proposal. "Just more <strong>rhetoric</strong>," someone muttered at the exit ‚Äî beautiful words that meant absolutely nothing.`,
          type: "connotative",
          exp: `In modern usage, "rhetoric" often implies empty or manipulative speech. Here it carries the connotation of hollow words used to impress or distract rather than to actually say anything meaningful.`
        }
      ]
    },
    {
      word: "Vigilant", pos: "adjective", emoji: "üëÅÔ∏è",
      passages: [
        {
          text: `Security training manuals instruct officers to remain <strong>vigilant</strong> at all times ‚Äî meaning they must maintain constant, careful observation for signs of potential danger or unusual activity.`,
          type: "denotative",
          exp: `"Vigilant" is used in its literal dictionary meaning: maintaining careful watch. The context is practical and instructional ‚Äî no emotional weight is added.`
        },
        {
          text: `She was the one who noticed the gas leak. The one who saw the child wander toward traffic. The one who stayed awake on long drives while everyone else dozed. Her family never said it outright, but they knew: having someone so <strong>vigilant</strong> was like being held by an invisible hand.`,
          type: "connotative",
          exp: `"Vigilant" here carries connotations of heroism, devotion, and quiet love. It implies someone whose watchfulness is a form of protection and care ‚Äî almost noble and selfless.`
        }
      ]
    },
    {
      word: "Profligate", pos: "adjective", emoji: "üí∏",
      passages: [
        {
          text: `Economists use the term <strong>profligate</strong> to describe spending behavior that is recklessly extravagant ‚Äî characterized by the wasteful, unrestrained use of money or resources without regard for consequences.`,
          type: "denotative",
          exp: `"Profligate" is used here in its technical economic sense: recklessly wasteful spending. The tone is clinical and descriptive rather than morally charged.`
        },
        {
          text: `His <strong>profligate</strong> lifestyle became the story people told as a warning ‚Äî designer suits charged to maxed-out cards, parties thrown for strangers, a penthouse emptied by creditors while he was still deciding what to order for breakfast.`,
          type: "connotative",
          exp: `Here "profligate" carries heavy moral judgment and a sense of tragic downfall. It implies not just wasteful spending, but vanity, recklessness, and moral corruption ‚Äî a cautionary tale wrapped in one word.`
        }
      ]
    },
    {
      word: "Maverick", pos: "noun", emoji: "ü§†",
      passages: [
        {
          text: `The term <strong>maverick</strong> originated from Samuel Maverick, a 19th-century Texas rancher who refused to brand his cattle. Today it simply means an independent person who does not follow conventional rules or expectations.`,
          type: "denotative",
          exp: `This is the word's factual, dictionary definition ‚Äî an independent, unconventional person. The historical context grounds the definition without adding emotional color.`
        },
        {
          text: `She was the only junior senator who voted against the bill, and she stood at the podium with no apology in her eyes. The press called her a <strong>maverick</strong> ‚Äî and they meant it as a compliment, the way you use the word when someone's courage makes you briefly believe that one person can still change something.`,
          type: "connotative",
          exp: `"Maverick" here is soaked in admiration ‚Äî it suggests bravery, integrity, and inspiring individuality. The word carries the romantic connotation of someone whose rebellion serves a higher purpose.`
        }
      ]
    },
    {
      word: "Ubiquitous", pos: "adjective", emoji: "üåç",
      passages: [
        {
          text: `The report noted that smartphones have become <strong>ubiquitous</strong> ‚Äî meaning they are present and found essentially everywhere across modern society, in nearly every demographic and region.`,
          type: "denotative",
          exp: `"Ubiquitous" is used here in its straightforward dictionary sense: present or appearing everywhere. The observation is neutral and factual.`
        },
        {
          text: `Screens were <strong>ubiquitous</strong> now ‚Äî on the back of headrests, in elevator doors, embedded in gas station pumps. There was nowhere left to look that didn't want something from you, and the children had grown up never knowing what silence looked like.`,
          type: "connotative",
          exp: `"Ubiquitous" here takes on a suffocating, oppressive connotation ‚Äî the sense that omnipresence is invasive and exhausting. The word implies something sinister about constant, unavoidable presence.`
        }
      ]
    },
    {
      word: "Dogmatic", pos: "adjective", emoji: "üìö",
      passages: [
        {
          text: `A <strong>dogmatic</strong> position, by definition, is one that asserts principles as absolute, established truths without requiring or accepting evidence or alternative perspectives.`,
          type: "denotative",
          exp: `This is the neutral academic definition of dogmatic ‚Äî asserting something as absolute and beyond question. No additional emotional connotation is layered in.`
        },
        {
          text: `Every question Priya asked was met with the same tight-lipped response: "That's not how it's done." The professor was so <strong>dogmatic</strong> that students stopped raising their hands entirely ‚Äî it wasn't a classroom anymore, it was a sermon.`,
          type: "connotative",
          exp: `"Dogmatic" here carries strong connotations of intellectual arrogance, silencing, and the suffocating atmosphere of closed-mindedness. The word implies a kind of oppressive certainty that kills curiosity.`
        }
      ]
    },
    {
      word: "Ephemeral", pos: "adjective", emoji: "üå∏",
      passages: [
        {
          text: `In biology, <strong>ephemeral</strong> plants are species that complete their entire life cycle ‚Äî germination, flowering, and seed production ‚Äî within an extremely brief period, sometimes just a few weeks.`,
          type: "denotative",
          exp: `"Ephemeral" is used in its scientific, literal sense: lasting for a very short time. The biological context is clinical and factual.`
        },
        {
          text: `Cherry blossom season only lasts two weeks, and that is exactly why thousands of people travel thousands of miles to see it. The beauty of something <strong>ephemeral</strong> holds a sadness that permanent things never can ‚Äî you fall in love with it already knowing it will leave.`,
          type: "connotative",
          exp: `"Ephemeral" here is rich with emotional associations: bittersweet beauty, the ache of impermanence, and a kind of love deepened by loss. The word carries poetic and melancholic connotations.`
        }
      ]
    },
    {
      word: "Condescending", pos: "adjective", emoji: "üôÑ",
      passages: [
        {
          text: `Communication researchers define <strong>condescending</strong> behavior as a pattern in which a person speaks or acts in a way that implies they are superior to the person they are addressing.`,
          type: "denotative",
          exp: `This is the word's clinical, definitional use ‚Äî describing patronizing behavior that signals a perceived superiority. The tone is analytical rather than emotional.`
        },
        {
          text: `He didn't insult anyone directly. He just had a way of explaining things ‚Äî slowly, with raised eyebrows, as if he were genuinely surprised you'd asked ‚Äî that made every person in the room feel about three inches tall. <strong>Condescending</strong> was too gentle a word for it.`,
          type: "connotative",
          exp: `"Condescending" here evokes specific feelings of humiliation, smallness, and quiet cruelty. The passage leans into the emotional impact of the behavior ‚Äî making the reader feel the sting.`
        }
      ]
    },
    {
      word: "Pragmatic", pos: "adjective", emoji: "‚öôÔ∏è",
      passages: [
        {
          text: `A <strong>pragmatic</strong> approach to problem-solving, as defined in philosophy, prioritizes practical solutions and real-world outcomes over abstract ideals or theoretical frameworks.`,
          type: "denotative",
          exp: `"Pragmatic" is used here in its neutral philosophical definition ‚Äî focused on practical outcomes. No praise or criticism is implied; it's simply a description of a methodological stance.`
        },
        {
          text: `The activists were disappointed, but they understood. Sometimes you vote for the person who can actually win. Councilwoman Torres was <strong>pragmatic</strong> ‚Äî not a word that made hearts sing, but the kind of person who actually got water flowing again in neighborhoods that had gone without for months.`,
          type: "connotative",
          exp: `"Pragmatic" here carries a bittersweet connotation ‚Äî admirable effectiveness paired with a sense of compromise or lack of idealism. It's a compliment that acknowledges what has been sacrificed.`
        }
      ]
    },
    {
      word: "Obfuscate", pos: "verb", emoji: "üå´Ô∏è",
      passages: [
        {
          text: `In technical writing, authors are warned not to <strong>obfuscate</strong> their meaning ‚Äî that is, to avoid making their communication unnecessarily unclear, complex, or difficult to follow.`,
          type: "denotative",
          exp: `"Obfuscate" is used here in its literal dictionary sense: to make something unclear or confusing. The instruction is straightforward and the meaning is neutral.`
        },
        {
          text: `The corporation's spokesperson answered every reporter's question with calm, careful language that said nothing. <strong>Obfuscate</strong> was the only word for it ‚Äî a deliberate fog of professional terminology designed to make the truth impossible to find.`,
          type: "connotative",
          exp: `"Obfuscate" here carries connotations of deliberate dishonesty, corporate deception, and the unsettling experience of watching someone bury the truth in plain sight. The word implies malicious intent.`
        }
      ]
    }
  ],

  3: [
    {
      word: "Arduous", pos: "adjective", emoji: "‚õ∞Ô∏è",
      passages: [
        {
          text: `The training guide described the certification process as <strong>arduous</strong> ‚Äî requiring sustained physical exertion and mental effort over several months, with multiple rigorous evaluations along the way.`,
          type: "denotative",
          exp: `"Arduous" is used here in its straightforward dictionary meaning: involving great effort or difficulty. The description is factual and informational.`
        },
        {
          text: `Every mile of the climb was <strong>arduous</strong> in a way that stripped you down to something essential. By the final ridge, nobody was performing strength for anyone else ‚Äî there was only the honest, trembling effort of a person discovering exactly what they were made of.`,
          type: "connotative",
          exp: `"Arduous" here is saturated with admiration and almost spiritual meaning. It implies that difficulty is a form of revelation ‚Äî the word carries connotations of noble struggle, transformation, and earned pride.`
        }
      ]
    },
    {
      word: "Cacophony", pos: "noun", emoji: "üîä",
      passages: [
        {
          text: `Music theory defines <strong>cacophony</strong> as a combination of sounds that lack harmony ‚Äî characterized by clashing pitches, conflicting rhythms, and an overall effect of dissonance and disorder.`,
          type: "denotative",
          exp: `"Cacophony" is used here in its technical musical definition: harsh, discordant sound. The tone is clinical and descriptive without evoking strong emotion.`
        },
        {
          text: `The first day in the city nearly broke her. The sirens, the jackhammers, the hundred overlapping conversations ‚Äî it was a <strong>cacophony</strong> that felt like an assault, like the city itself was testing whether she was strong enough to stay.`,
          type: "connotative",
          exp: `"Cacophony" here goes far beyond describing noise. It carries connotations of overwhelm, hostility, and sensory violence. The word is used to evoke an emotional and almost physical discomfort.`
        }
      ]
    },
    {
      word: "Contemptuous", pos: "adjective", emoji: "üò†",
      passages: [
        {
          text: `Social scientists describe <strong>contemptuous</strong> behavior in relationships as the expression of a sense of superiority over a partner ‚Äî often considered one of the strongest predictors of relationship failure.`,
          type: "denotative",
          exp: `"Contemptuous" is used in its research-defined sense: expressing feelings of contempt or superiority. The academic framing keeps it analytical and detached.`
        },
        {
          text: `She didn't yell. She just looked at him ‚Äî a slow, measured look that made it clear she found the question beneath her time. The silence after was worse than anything she could have said. <strong>Contemptuous</strong> was the only word for a quiet that cruel.`,
          type: "connotative",
          exp: `"Contemptuous" here is visceral and specific ‚Äî it evokes the particular sting of being dismissed, looked through, and made to feel worthless. The word carries intense emotional weight and a sense of cruelty.`
        }
      ]
    },
    {
      word: "Dilapidated", pos: "adjective", emoji: "üèöÔ∏è",
      passages: [
        {
          text: `The city inspector classified the property as <strong>dilapidated</strong> ‚Äî documenting the structural decay, crumbling foundation, broken windows, and deteriorated roofing that made it unfit for habitation.`,
          type: "denotative",
          exp: `"Dilapidated" is used here in its literal, functional sense: in a state of severe disrepair. The context is official and factual.`
        },
        {
          text: `The old community center was <strong>dilapidated</strong> now ‚Äî paint peeling, shutters crooked, the basketball court cracked and empty. But everyone who grew up in that neighborhood saw something different when they drove past: the place where they first learned they mattered to someone.`,
          type: "connotative",
          exp: `"Dilapidated" here carries deep connotations of loss, nostalgia, and the grief of a community watching its history decay. The word evokes not just physical ruin but faded dignity and mourned belonging.`
        }
      ]
    },
    {
      word: "Effervescent", pos: "adjective", emoji: "‚ú®",
      passages: [
        {
          text: `In chemistry, an <strong>effervescent</strong> reaction is one that produces bubbles of gas ‚Äî such as when baking soda reacts with an acid, causing a fizzing or bubbling effect.`,
          type: "denotative",
          exp: `"Effervescent" is used here in its scientific, literal meaning: producing bubbles or fizzing. The context is factual and technical.`
        },
        {
          text: `She walked into rooms the way sunlight walks into dark spaces ‚Äî filling them before anyone noticed, warming whatever she touched. <strong>Effervescent</strong> wasn't performance for her; it was just how she existed, and people leaned toward her the way plants lean toward windows.`,
          type: "connotative",
          exp: `"Effervescent" here is luminous with positive connotation ‚Äî it implies irresistible vitality, natural joy, and a magnetic warmth that transforms everything around it. The word feels like a compliment of the highest order.`
        }
      ]
    },
    {
      word: "Erudite", pos: "adjective", emoji: "üéì",
      passages: [
        {
          text: `The position required an <strong>erudite</strong> candidate ‚Äî specifically, someone with extensive scholarly learning across multiple academic disciplines who could engage with complex texts and research.`,
          type: "denotative",
          exp: `"Erudite" is used here in its dictionary sense: having or showing great knowledge acquired through extensive reading and study. The use is neutral and descriptive.`
        },
        {
          text: `He had an <strong>erudite</strong> way of talking that made half the room feel brilliant and the other half feel stupid ‚Äî and somehow, the half that felt stupid suspected that was the point.`,
          type: "connotative",
          exp: `"Erudite" here carries a complex connotation: admiration mixed with suspicion. It implies that vast knowledge, weaponized, can become a form of exclusion or performance. The word's usual praise curdles slightly into discomfort.`
        }
      ]
    },
    {
      word: "Fervent", pos: "adjective", emoji: "üî•",
      passages: [
        {
          text: `Political analysts described the candidate's base as <strong>fervent</strong> supporters ‚Äî meaning they demonstrated intense, passionate, and enthusiastic commitment to the campaign and its message.`,
          type: "denotative",
          exp: `"Fervent" is used in its literal meaning: showing intense enthusiasm or passion. The analytical tone keeps it neutral and descriptive.`
        },
        {
          text: `She prayed the way other people breathe ‚Äî quietly, constantly, with a <strong>fervent</strong> belief that something was listening that had never stopped listening, even on the nights when she forgot to speak. Her faith wasn't loud. It was bone-deep.`,
          type: "connotative",
          exp: `"Fervent" here is rich with sacred connotation ‚Äî it implies devotion that goes beyond rational thought into something deeply felt and almost spiritual. The word carries reverence, sincerity, and the beauty of total belief.`
        }
      ]
    },
    {
      word: "Incongruous", pos: "adjective", emoji: "ü§î",
      passages: [
        {
          text: `The design team noted that the modern glass facade was <strong>incongruous</strong> with the surrounding historic architecture ‚Äî meaning it was inconsistent with and did not visually harmonize with its context.`,
          type: "denotative",
          exp: `"Incongruous" is used here in its neutral, functional definition: not in harmony or agreement with its surroundings. The design critique is objective and analytical.`
        },
        {
          text: `There he was ‚Äî six-foot-two, covered in tattoos, wearing a pink "World's Best Grandpa" apron, carefully piping rosettes onto a birthday cake while a tiny terrier watched from a chair. The image was so <strong>incongruous</strong> it was almost tender.`,
          type: "connotative",
          exp: `"Incongruous" here carries a warm, humorous, and even affectionate connotation ‚Äî the delightful absurdity of something unexpected that ends up being more real and human than anything predictable would have been.`
        }
      ]
    },
    {
      word: "Aggregate", pos: "adjective/verb", emoji: "üì¶",
      passages: [
        {
          text: `The research team collected data across 500 participants and then worked to <strong>aggregate</strong> the results ‚Äî combining all individual data points into a single unified dataset for statistical analysis.`,
          type: "denotative",
          exp: `"Aggregate" is used here in its technical, literal sense: to collect or combine into a whole. The research context is functional and specific.`
        },
        {
          text: `The algorithm didn't know anyone's name. It just saw patterns ‚Äî clicks, pauses, scrolls, searches. But somehow, by the time it had <strong>aggregated</strong> enough of these tiny traces, it knew you better than your closest friends did, and that knowledge had a price.`,
          type: "connotative",
          exp: `"Aggregated" here carries unsettling connotations of surveillance, the erosion of privacy, and the quiet horror of being reduced to data. The word implies a loss of individuality and autonomy.`
        }
      ]
    },
    {
      word: "Conceive", pos: "verb", emoji: "üí°",
      passages: [
        {
          text: `The engineering team met for three weeks before one member was finally able to <strong>conceive</strong> a workable solution ‚Äî forming a clear mental plan for a new mechanism that addressed all the design constraints.`,
          type: "denotative",
          exp: `"Conceive" is used here in its literal sense: to form or develop an idea or plan in the mind. The context is practical and problem-solving oriented.`
        },
        {
          text: `It is almost impossible to <strong>conceive</strong> of a world without the internet now ‚Äî to imagine the quiet of libraries as the primary source of knowledge, or a time when a letter took two weeks and felt like a miracle when it arrived.`,
          type: "connotative",
          exp: `"Conceive" here carries connotations of wonder and philosophical challenge ‚Äî it implies not just imagining something, but the mental effort of grasping something almost beyond imagination. The word suggests awe at scale of change.`
        }
      ]
    }
  ]
};

const LEVEL_NAMES = { 1: "Foundations", 2: "Challenge", 3: "Mastery" };

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let student = { name: '', period: '' };
let level = 1;
let questions = [];
let qIdx = 0;
let score = 0;
let scores = [];

try { scores = JSON.parse(localStorage.getItem('wsc_scores_v2') || '[]'); } catch(e) { scores = []; }

// ‚îÄ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id + '-screen').classList.add('active');
  window.scrollTo(0, 0);
}

// ‚îÄ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.getElementById('login-btn').addEventListener('click', doLogin);
document.getElementById('inp-name').addEventListener('keydown', e => { if (e.key === 'Enter') document.getElementById('inp-class').focus(); });
document.getElementById('inp-class').addEventListener('keydown', e => { if (e.key === 'Enter') doLogin(); });

function doLogin() {
  const name = document.getElementById('inp-name').value.trim();
  const period = document.getElementById('inp-class').value.trim();
  const err = document.getElementById('login-error');
  if (!name || !period) { err.classList.add('show'); return; }
  err.classList.remove('show');
  student = { name, period };
  document.getElementById('welcome-name').textContent = name;
  show('level');
}

document.getElementById('scores-from-login').addEventListener('click', () => { renderScores(); show('scores'); });
document.getElementById('change-student').addEventListener('click', () => show('login'));
document.getElementById('scores-from-level').addEventListener('click', () => { renderScores(); show('scores'); });

// ‚îÄ‚îÄ‚îÄ LEVEL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.querySelectorAll('.level-card').forEach(card => {
  card.addEventListener('click', () => {
    level = parseInt(card.dataset.level);
    buildGame();
    show('game');
  });
});

// ‚îÄ‚îÄ‚îÄ GAME BUILD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildGame() {
  qIdx = 0;
  score = 0;
  const pool = [...LEVELS[level]].sort(() => Math.random() - 0.5);
  questions = pool.map(w => {
    const p = w.passages[Math.floor(Math.random() * 2)];
    return { word: w.word, pos: w.pos, emoji: w.emoji, passage: p.text, answer: p.type, exp: p.exp };
  });
  renderQ();
}

function renderQ() {
  const q = questions[qIdx];
  document.getElementById('q-num').textContent = qIdx + 1;
  document.getElementById('q-total').textContent = questions.length;
  document.getElementById('progress-fill').style.width = `${((qIdx + 1) / questions.length) * 100}%`;
  document.getElementById('q-emoji').textContent = q.emoji;
  document.getElementById('q-word').textContent = q.word;
  document.getElementById('q-pos').textContent = `(${q.pos})`;
  document.getElementById('q-passage').innerHTML = q.passage;
  document.getElementById('score-val').textContent = score;

  const card = document.getElementById('passage-card');
  card.classList.remove('correct', 'wrong');

  document.getElementById('answer-row').style.display = '';
  const fp = document.getElementById('feedback-panel');
  fp.classList.remove('show');

  document.getElementById('btn-deno').disabled = false;
  document.getElementById('btn-conn').disabled = false;

  document.getElementById('next-btn').textContent = qIdx < questions.length - 1 ? 'Next Passage ‚Üí' : 'See Results ‚Üí';
}

document.getElementById('btn-deno').addEventListener('click', () => checkAns('denotative'));
document.getElementById('btn-conn').addEventListener('click', () => checkAns('connotative'));

function checkAns(picked) {
  const q = questions[qIdx];
  const correct = picked === q.answer;
  if (correct) score++;

  document.getElementById('btn-deno').disabled = true;
  document.getElementById('btn-conn').disabled = true;
  document.getElementById('score-val').textContent = score;

  const card = document.getElementById('passage-card');
  card.classList.add(correct ? 'correct' : 'wrong');

  const res = document.getElementById('fb-result');
  res.textContent = correct ? '‚úì Correct!' : `‚úó Not quite!`;
  res.className = 'fb-result ' + (correct ? 'ok' : 'no');

  const revealLabel = q.answer === 'denotative' ? 'üìñ This is a DENOTATIVE use' : 'üí´ This is a CONNOTATIVE use';
  document.getElementById('fb-reveal').textContent = revealLabel;
  document.getElementById('fb-exp').textContent = q.exp;
  document.getElementById('feedback-panel').classList.add('show');
}

document.getElementById('next-btn').addEventListener('click', () => {
  qIdx++;
  if (qIdx >= questions.length) showResults();
  else renderQ();
});

// ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showResults() {
  const pct = Math.round((score / questions.length) * 100);
  let emoji, msg;
  if (pct >= 90)      { emoji = 'üèÜ'; msg = "Outstanding! You're a Word Sense master!"; }
  else if (pct >= 70) { emoji = 'üåü'; msg = "Great reading! You really understand context."; }
  else if (pct >= 50) { emoji = 'üëç'; msg = "Good effort! Keep practicing with passages."; }
  else                { emoji = 'üìö'; msg = "Keep reading ‚Äî context is everything!"; }

  document.getElementById('r-emoji').textContent = emoji;
  document.getElementById('r-score').textContent = score;
  document.getElementById('r-total').textContent = questions.length;
  document.getElementById('r-pct').textContent = pct;
  document.getElementById('r-msg').textContent = msg;

  const badge = document.getElementById('r-badge');
  badge.textContent = `Level ${level} ¬∑ ${LEVEL_NAMES[level]}`;
  badge.className = `r-lvl-badge rlb-${level}`;

  const record = { name: student.name, period: student.period, level, score, total: questions.length, pct, date: new Date().toISOString() };
  scores.unshift(record);
  try { localStorage.setItem('wsc_scores_v2', JSON.stringify(scores.slice(0, 100))); } catch(e) {}

  show('results');
  if (pct >= 70) confetti();
}

document.getElementById('play-again-btn').addEventListener('click', () => {
  document.getElementById('welcome-name').textContent = student.name;
  show('level');
});
document.getElementById('level-from-results').addEventListener('click', () => {
  document.getElementById('welcome-name').textContent = student.name;
  show('level');
});

// ‚îÄ‚îÄ‚îÄ SCORES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderScores() {
  const el = document.getElementById('scores-list');
  if (!scores.length) {
    el.innerHTML = '<p style="color:var(--muted);text-align:center;padding:3rem 0;">No scores yet ‚Äî play a game to see results here!</p>';
    return;
  }
  el.innerHTML = scores.map(r => {
    const em = r.pct >= 80 ? 'üåü' : r.pct >= 60 ? 'üëç' : 'üìö';
    const d = new Date(r.date);
    return `<div class="score-row">
      <div class="sr-left">
        <div class="sr-emoji">${em}</div>
        <div>
          <div class="sr-name">${r.name} ‚Äî ${r.period}</div>
          <div class="sr-meta">Level ${r.level} ¬∑ ${r.score}/${r.total} ¬∑ ${d.toLocaleDateString()} ${d.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</div>
        </div>
      </div>
      <div class="sr-pct">${r.pct}%</div>
    </div>`;
  }).join('');
}

document.getElementById('back-from-scores').addEventListener('click', () => {
  if (student.name) show('level');
  else show('login');
});

// ‚îÄ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function confetti() {
  const wrap = document.getElementById('conf-wrap');
  wrap.innerHTML = '';
  const colors = ['#f0c060','#40d0c0','#e06090','#9070f0','#40d080'];
  const emojis = ['üéâ','‚≠ê','‚ú®','üí´','üåü'];
  for (let i = 0; i < 50; i++) {
    const el = document.createElement('div');
    el.className = 'conf';
    const useEmoji = Math.random() > 0.5;
    if (useEmoji) {
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.cssText = `font-size:1.3rem;width:auto;height:auto;left:${Math.random()*100}%;top:${30+Math.random()*55}%;animation-delay:${Math.random()*0.7}s;animation-duration:${1.3+Math.random()*0.9}s;`;
    } else {
      el.style.cssText = `background:${colors[Math.floor(Math.random()*colors.length)]};border-radius:${Math.random()>0.5?'50%':'3px'};left:${Math.random()*100}%;top:${30+Math.random()*55}%;animation-delay:${Math.random()*0.7}s;animation-duration:${1.3+Math.random()*0.9}s;`;
    }
    wrap.appendChild(el);
  }
  setTimeout(() => { wrap.innerHTML = ''; }, 3000);
}
</script>
</body>
</html>
